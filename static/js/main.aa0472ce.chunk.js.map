{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","services/image-finder-api.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","props","onSubmit","toLowerCase","trim","setState","handleQueryChange","target","value","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","searchResults","onClick","map","el","src","webformatURL","alt","tags","ImageGalleryItemImage","id","Button","ButtonWrapper","FetchImages","BASE_URL","API_KEY","_page","perPage","axios","defaults","baseURL","url","get","then","res","data","hits","catch","error","console","log","message","alert","newFetchImages","ImageGallery","showModal","isLoading","currentImage","handleLoadMore","page","searchPhotos","results","prevState","scrollTo","toggleModal","prevProps","length","clickOnImage","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","handleGalleryItem","imageFile","largeImageURL","scrollOnLoadButton","top","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa0472ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__n6DDq\",\"ButtonWrapper\":\"Button_ButtonWrapper__ozwvt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Y7hl\",\"Modal\":\"Modal_Modal__3aKdx\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery.toLowerCase().trim());\n    this.setState({ searchQuery: '' });\n  };\n  handleQueryChange = e => {\n    this.setState({ searchQuery: e.target.value });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            onChange={this.handleQueryChange}\n            className={s.SearchFormInput}\n            value={this.state.searchQuery}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { PropTypes } from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGalleryItem({ searchResults, onClick }) {\n  return searchResults.map(el => {\n    return (\n      <li className={s.ImageGalleryItem} key={el.id}>\n        <img\n          onClick={() => {\n            onClick(el);\n          }}\n          src={el.webformatURL}\n          alt={el.tags}\n          className={s.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  });\n}\nImageGalleryItem.propTypes = {\n  searchResults: PropTypes.array,\n  onClick: PropTypes.func,\n};\n","import { PropTypes } from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  // console.dir(onClick);\n  return (\n    <div className={s.ButtonWrapper} onClick={onClick}>\n      <button type=\"button\" className={s.Button}>\n        Load more\n      </button>\n    </div>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import axios from 'axios';\n\nexport default class FetchImages {\n  constructor(BASE_URL, API_KEY) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._page = 1;\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  searchPhotos(searchQuery, perPage) {\n    try {\n      axios.defaults.baseURL = this.BASE_URL;\n      let url = `?key=${this.API_KEY}&q=${searchQuery}&per_page=${perPage}&page=${this._page}`;\n      return axios\n        .get(url)\n        .then(res => res.data.hits)\n        .catch(error => console.log(error.message));\n    } catch (error) {\n      alert(error);\n    }\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport FetchImages from '../../services/image-finder-api';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23234796-47fbd745329069e6b0b2bf0fd';\nconst newFetchImages = new FetchImages(BASE_URL, API_KEY);\nexport default class ImageGallery extends Component {\n  state = {\n    searchResults: [],\n    showModal: false,\n    isLoading: false,\n    currentImage: {\n      url: '',\n      alt: '',\n    },\n  };\n\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    newFetchImages.page = 1;\n    newFetchImages.searchPhotos(this.props.searchQuery, 12).then(results => {\n      this.setState(prevState => ({\n        searchResults: [...prevState.searchResults, ...results],\n        isLoading: false,\n      }));\n      this.props.scrollTo();\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.setState({ isLoading: true });\n\n      newFetchImages\n        .searchPhotos(this.props.searchQuery, 12)\n        .then(searchResults => {\n          this.setState({\n            searchResults,\n            isLoading: false,\n          });\n          if (this.state.searchResults.length === 0) {\n            alert('No results');\n          }\n        });\n    }\n  }\n\n  render() {\n    const { searchResults, isLoading } = this.state;\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          <ImageGalleryItem\n            searchResults={searchResults}\n            onClick={this.props.clickOnImage}\n          />\n        </ul>\n        {isLoading && (\n          <Loader\n            type=\"Bars\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {searchResults.length > 0 && <Button onClick={this.handleLoadMore} />}\n      </>\n    );\n  }\n}\nImageGallery.propTypes = {\n  clickOnImage: PropTypes.func,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n  onOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\n// import Loader from 'react-loader-spinner';\n\n// import 'react-loader-spinner/dist/loader/css/react-loader-spinner.css';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    currentImage: {\n      url: '',\n      alt: '',\n    },\n  };\n  handleSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  handleGalleryItem = imageFile => {\n    this.setState({\n      currentImage: {\n        url: imageFile.largeImageURL,\n        alt: imageFile.tags,\n      },\n    });\n    this.toggleModal();\n  };\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevState.searchQuery !== this.state.searchQuery) {\n  //     if (this.state.searchQuery === '' || prevState.searchQuery === '') {\n  //       alert('Please enter you search request');\n  //       return;\n  //     }\n  //   }\n  // }\n\n  render() {\n    const { currentImage, showModal, searchQuery } = this.state;\n    const { toggleModal, handleSubmit, handleGalleryItem, scrollOnLoadButton } =\n      this;\n    return (\n      <div className=\"App\">\n        {showModal && (\n          <Modal toggleModal={toggleModal}>\n            <img src={currentImage.url} alt={currentImage.alt} />{' '}\n          </Modal>\n        )}\n        <Searchbar onSubmit={handleSubmit} />\n        <ImageGallery\n          searchQuery={searchQuery}\n          clickOnImage={handleGalleryItem}\n          scrollTo={scrollOnLoadButton}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__h1Vbd\",\"SearchForm\":\"Searchbar_SearchForm__2xtPT\",\"SearchFormButton\":\"Searchbar_SearchFormButton__23ydN\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2IXNL\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3MsJA\",\"SearchForm-input\":\"Searchbar_SearchForm-input__cSGW8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JfvH\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2Ufu4\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1Xb2B\"};"],"sourceRoot":""}