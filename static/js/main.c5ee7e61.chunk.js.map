{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/image-finder-api.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","props","onSubmit","toLowerCase","trim","setState","handleQueryChange","target","value","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","searchResults","onClick","map","el","src","webformatURL","alt","tags","ImageGalleryItemImage","id","Button","ButtonWrapper","newFetchImages","BASE_URL","API_KEY","_page","perPage","axios","defaults","baseURL","url","get","then","res","data","hits","catch","error","console","log","message","ImageGallery","showModal","isLoading","currentImage","handleLoadMore","page","searchPhotos","results","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","prevProps","dataResults","clickOnImage","color","height","width","timeout","length","modalRoot","querySelector","Modal","handleKeyDown","code","onOverlayClick","currentTarget","addEventListener","removeEventListener","createPortal","Overlay","App","handleGalleryItem","imageFile","largeImageURL","scrollOnLoadButton","scroll","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c5ee7e61.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__n6DDq\",\"ButtonWrapper\":\"Button_ButtonWrapper__ozwvt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Y7hl\",\"Modal\":\"Modal_Modal__3aKdx\"};","import { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchQuery.toLowerCase().trim());\n    this.setState({ searchQuery: '' });\n  };\n  handleQueryChange = e => {\n    this.setState({ searchQuery: e.target.value });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            onChange={this.handleQueryChange}\n            className={s.SearchFormInput}\n            value={this.state.searchQuery}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import { PropTypes } from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGalleryItem({ searchResults, onClick }) {\n  return searchResults.map(el => {\n    return (\n      <li className={s.ImageGalleryItem} key={el.id}>\n        <img\n          onClick={() => {\n            onClick(el);\n          }}\n          src={el.webformatURL}\n          alt={el.tags}\n          className={s.ImageGalleryItemImage}\n        />\n      </li>\n    );\n  });\n}\nImageGalleryItem.propTypes = {\n  searchResults: PropTypes.array,\n};\n","import s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  // console.dir(onClick);\n  return (\n    <div className={s.ButtonWrapper} onClick={onClick}>\n      <button type=\"button\" className={s.Button}>\n        Load more\n      </button>\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport Button from '../Button/Button';\nimport FetchImages from '../../services/image-finder-api';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23234796-47fbd745329069e6b0b2bf0fd';\nconst newFetchImages = new FetchImages(BASE_URL, API_KEY);\nexport default class ImageGallery extends Component {\n  state = {\n    searchResults: [],\n    showModal: false,\n    isLoading: false,\n    currentImage: {\n      url: '',\n      alt: '',\n    },\n  };\n  handleLoadMore = () => {\n    this.setState({ isLoading: true });\n    newFetchImages.page = 1;\n    newFetchImages.searchPhotos(this.props.searchQuery, 12).then(results =>\n      this.setState(prevState => ({\n        searchResults: [...prevState.searchResults, ...results],\n        isLoading: false,\n      })),\n    );\n\n    // console.log(newFetchImages.page);\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.setState({ isLoading: true });\n      newFetchImages\n        .searchPhotos(this.props.searchQuery, 12)\n        .then(searchResults => {\n          this.setState({\n            searchResults,\n            isLoading: false,\n          });\n        });\n    }\n  }\n\n  render() {\n    const dataResults = this.state.searchResults;\n    return (\n      <>\n        <ul className={s.ImageGallery}>\n          <ImageGalleryItem\n            searchResults={this.state.searchResults}\n            onClick={this.props.clickOnImage}\n          />\n        </ul>\n        {this.state.isLoading && (\n          <Loader\n            type=\"Bars\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        )}\n        {dataResults.length > 0 && <Button onClick={this.handleLoadMore} />}\n      </>\n    );\n  }\n}\n","import axios from 'axios';\n\nexport default class FetchImages {\n  constructor(BASE_URL, API_KEY) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._page = 1;\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  searchPhotos(searchQuery, perPage) {\n    axios.defaults.baseURL = this.BASE_URL;\n    let url = `?key=${this.API_KEY}&q=${searchQuery}&per_page=${perPage}&page=${this._page}`;\n    return axios\n      .get(url)\n      .then(res => res.data.hits)\n      .catch(error => console.log(error.message));\n  }\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n  onOverlayClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.toggleModal();\n    }\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.onOverlayClick}>\n        <div className={s.Modal}>\n          <img\n            src={this.props.currentImage.url}\n            alt={this.props.currentImage.alt}\n          />\n          {/* {this.props.children} */}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\n// import Loader from 'react-loader-spinner';\n\n// import 'react-loader-spinner/dist/loader/css/react-loader-spinner.css';\nimport './App.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    currentImage: {\n      url: '',\n      alt: '',\n    },\n  };\n  handleSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n  handleGalleryItem = imageFile => {\n    this.setState({\n      currentImage: {\n        url: imageFile.largeImageURL,\n        alt: imageFile.tags,\n      },\n    });\n    this.toggleModal();\n  };\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.showModal && (\n          <Modal\n            currentImage={this.state.currentImage}\n            toggleModal={this.toggleModal}\n          />\n        )}\n        <Searchbar onSubmit={this.handleSubmit} />\n        <ImageGallery\n          searchQuery={this.state.searchQuery}\n          clickOnImage={this.handleGalleryItem}\n          scroll={this.scrollOnLoadButton}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__h1Vbd\",\"SearchForm\":\"Searchbar_SearchForm__2xtPT\",\"SearchFormButton\":\"Searchbar_SearchFormButton__23ydN\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2IXNL\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3MsJA\",\"SearchForm-input\":\"Searchbar_SearchForm-input__cSGW8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2JfvH\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2Ufu4\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__1Xb2B\"};"],"sourceRoot":""}